# Chemins des dossiers
$dossier_source = "Z:\"
$dossier_destination = "C:\projet\disponible"

# Parcourir les fichiers et sous-dossiers dans le dossier source
Get-ChildItem -Path $dossier_source -Recurse | ForEach-Object {
    $item = $_
    $destination_path = Join-Path -Path $dossier_destination -ChildPath $item.FullName.Substring($dossier_source.Length)

    # Créer les sous-dossiers dans le dossier de destination si nécessaire
    $destination_directory = Split-Path -Path $destination_path -Parent
    if (-not (Test-Path -Path $destination_directory)) {
        New-Item -ItemType Directory -Path $destination_directory | Out-Null
    }

    # Déplacer l'élément (fichier ou dossier)
    Move-Item -Path $item.FullName -Destination $destination_path
    Write-Output "Déplacé: $($item.FullName) vers $destination_path"
}

Write-Output "Déplacement terminé."
